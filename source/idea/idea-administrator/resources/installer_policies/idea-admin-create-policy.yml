Version: '2012-10-17'
Statement:
  - Sid: CreatePermissionsToInstallIDEA
    Effect: Allow
    Action:
      - sns:CreateTopic
      - sns:GetTopicAttributes
      - sns:ListSubscriptionsByTopic
      - sns:SetTopicAttributes
      - sns:Subscribe
      - sns:TagResource
      - backup-storage:MountCapsule
      - backup:CreateBackupPlan
      - backup:CreateBackupSelection
      - backup:CreateBackupVault
      - backup:DescribeBackupVault
      - backup:GetBackupPlan
      - backup:GetBackupSelection
      - backup:TagResource
      - cloudformation:CreateChangeSet
      - cloudformation:CreateStack
      - cloudformation:DeleteChangeSet
      - cloudformation:DescribeChangeSet
      - cloudformation:DescribeStackEvents
      - cloudformation:DescribeStacks
      - cloudformation:ExecuteChangeSet
      - cloudformation:GetTemplate
      - cloudformation:UpdateTerminationProtection
      - cloudwatch:PutMetricAlarm
      - ec2:DescribeImages
      - ec2:AllocateAddress
      - ec2:AssociateAddress
      - ec2:AssociateRouteTable
      - ec2:AttachInternetGateway
      - ec2:AuthorizeSecurityGroupEgress
      - ec2:AuthorizeSecurityGroupIngress
      - ec2:CreateFlowLogs
      - ec2:CreateInternetGateway
      - ec2:CreateNatGateway
      - ec2:CreateNetworkInterface
      - ec2:CreateNetworkInterfacePermission
      - ec2:CreateRoute
      - ec2:CreateRouteTable
      - ec2:CreateSecurityGroup
      - ec2:CreateSubnet
      - ec2:CreateTags
      - ec2:CreateVpc
      - ec2:CreateVpcEndpoint
      - ec2:DescribeAddresses
      - ec2:DescribeAvailabilityZones
      - ec2:DescribeFlowLogs
      - ec2:DescribeInstances
      - ec2:DescribeInternetGateways
      - ec2:DescribeKeyPairs
      - ec2:DescribeNatGateways
      - ec2:DescribeNetworkInterfaces
      - ec2:DescribeNetwork*
      - ec2:DescribeRegions
      - ec2:DescribeRouteTables
      - ec2:DescribeSecurityGroups
      - ec2:DescribeSubnets
      - ec2:DescribeVpcAttribute
      - ec2:DescribeVpcEndpoints
      - ec2:DescribeVpcEndpointServices
      - ec2:DescribeVpcs
      - ec2:DescribeTags
      - ec2:ModifySubnetAttribute
      - ec2:ModifyVpcAttribute
      - ec2:RevokeSecurityGroupEgress
      - ec2:RunInstances
      - elasticfilesystem:CreateFileSystem
      - elasticfilesystem:CreateMountTarget
      - elasticfilesystem:DescribeFileSystems
      - elasticfilesystem:DescribeMountTargets
      - elasticfilesystem:PutFileSystemPolicy
      - elasticfilesystem:PutLifecycleConfiguration
      - elasticloadbalancing:AddTags
      - elasticloadbalancing:CreateListener
      - elasticloadbalancing:CreateLoadBalancer
      - elasticloadbalancing:CreateRule
      - elasticloadbalancing:CreateTargetGroup
      - elasticloadbalancing:DeleteTargetGroup
      - elasticloadbalancing:DescribeListeners
      - elasticloadbalancing:DescribeLoadBalancers
      - elasticloadbalancing:DescribeRules
      - elasticloadbalancing:DescribeTargetGroups
      - elasticloadbalancing:DescribeTargetHealth
      - elasticloadbalancing:ModifyLoadBalancerAttributes
      - elasticloadbalancing:ModifyRule
      - elasticloadbalancing:RegisterTargets
      - es:AddTags
      - es:CreateElasticsearchDomain
      - es:DescribeElasticsearchDomain
      - es:ListDomainNames
      - fsx:CreateFileSystem
      - fsx:DescribeFileSystems
      - fsx:TagResource
      - iam:AddRoleToInstanceProfile
      - iam:AttachRolePolicy
      - iam:CreateInstanceProfile
      - iam:CreateRole
      - iam:GetRole
      - iam:GetRolePolicy
      - iam:ListRoles
      - iam:PassRole
      - iam:PutRolePolicy
      - iam:TagRole
      - kinesis:CreateStream
      - kms:CreateGrant
      - kms:Decrypt
      - kms:DescribeKey
      - kms:GenerateDataKey
      - kms:RetireGrant
      - lambda:AddPermission
      - lambda:CreateFunction
      - lambda:GetFunction
      - lambda:InvokeFunction
      - logs:CreateLogGroup
      - logs:CreateLogStream
      - logs:DescribeLogGroups
      - logs:PutRetentionPolicy
      - route53resolver:AssociateResolverEndpointIpAddress
      - route53resolver:AssociateResolverRule
      - route53resolver:CreateResolverEndpoint
      - route53resolver:CreateResolverRule
      - route53resolver:GetResolverEndpoint
      - route53resolver:GetResolverRule
      - route53resolver:GetResolverRuleAssociation
      - route53resolver:PutResolverRulePolicy
      - route53resolver:TagResource
      - s3:*Object
      - s3:GetBucketLocation
      - s3:ListBucket
      - secretsmanager:CreateSecret
      - secretsmanager:TagResource
      - sts:DecodeAuthorizationMessage
      - dynamodb:*
      - events:*
      - sqs:*
      - route53:CreateHostedZone
      - route53:CreateVPCAssociationAuthorization
      - route53:GetHostedZone
    Resource: '*'
